<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>txtar - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="/lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="/lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.23.0";</script>
<script src="/lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="/pkg/">GoDoc</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package txtar
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "golang.org/x/tools/txtar"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package txtar implements a trivial text-based file archive format.
<p>The goals for the format are:
<ul>
<li>be trivial enough to create and edit by hand.
<li>be able to store trees of text files describing go command test cases.
<li>diff nicely in git history and code reviews.
</ul>
<p>Non-goals include being a completely general archive format,
storing binary data, storing file modes, storing special files like
symbolic links, and so on.
<h3 id="hdr-Txtar_format">Txtar format</h3>
<p>A txtar archive is zero or more comment lines and then a sequence of file entries.
Each file entry begins with a file marker line of the form &quot;-- FILENAME --&quot;
and is followed by zero or more file content lines making up the file data.
The comment or file content ends at the next file marker line.
The file marker line must begin with the three-byte sequence &quot;-- &quot;
and end with the three-byte sequence &quot; --&quot;, but the enclosed
file name can be surrounding by additional white space,
all of which is stripped.
<p>If the txtar file is missing a trailing newline on the final line,
parsers should consider a final newline to be present anyway.
<p>There are no possible syntax errors in a txtar archive.

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="#FS">func FS(a *Archive) (fs.FS, error)</a></dd>
			
				
				<dd><a href="#Format">func Format(a *Archive) []byte</a></dd>
			
			
				
				<dd><a href="#Archive">type Archive</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Parse">func Parse(data []byte) *Archive</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#ParseFile">func ParseFile(file string) (*Archive, error)</a></dd>
				
				
			
				
				<dd><a href="#File">type File</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="/src/golang.org/x/tools/txtar/archive.go">archive.go</a>
			
				<a href="/src/golang.org/x/tools/txtar/fs.go">fs.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>ErrModified indicates that file system returned by FS
noticed that the underlying archive has been modified
since the call to FS. Detection of modification is best effort,
to help diagnose misuse of the API, and is not guaranteed.

				<pre>var <span id="ErrModified">ErrModified</span> <a href="/pkg/builtin/#error">error</a> = <a href="/pkg/errors/">errors</a>.<a href="/pkg/errors/#New">New</a>(&#34;txtar.Archive has been modified during txtar.FS&#34;)</pre>
			
		
		
			
			
			<h2 id="FS">func <a href="/src/golang.org/x/tools/txtar/fs.go?s=561:595#L13">FS</a>
				<a class="permalink" href="#FS">&#xb6;</a>
				
				
			</h2>
			<pre>func FS(a *<a href="#Archive">Archive</a>) (<a href="/pkg/io/fs/">fs</a>.<a href="/pkg/io/fs/#FS">FS</a>, <a href="/pkg/builtin/#error">error</a>)</pre>
			<p>FS returns the file system form of an Archive.
It returns an error if any of the file names in the archive
are not valid file system names.
The archive must not be modified while the FS is in use.
<p>If the file system detects that it has been modified, calls to the
file system return an ErrModified error.

			
			

		
			
			
			<h2 id="Format">func <a href="/src/golang.org/x/tools/txtar/archive.go?s=1903:1933#L47">Format</a>
				<a class="permalink" href="#Format">&#xb6;</a>
				
				
			</h2>
			<pre>func Format(a *<a href="#Archive">Archive</a>) []<a href="/pkg/builtin/#byte">byte</a></pre>
			<p>Format returns the serialized form of an Archive.
It is assumed that the Archive data structure is well-formed:
a.Comment and all a.File[i].Data contain no file marker lines,
and all a.File[i].Name is non-empty.

			
			

		
		
			
			
			<h2 id="Archive">type <a href="/src/golang.org/x/tools/txtar/archive.go?s=1476:1531#L32">Archive</a>
				<a class="permalink" href="#Archive">&#xb6;</a>
				
				
			</h2>
			<p>An Archive is a collection of files.

			<pre>type Archive struct {
<span id="Archive.Comment"></span>    Comment []<a href="/pkg/builtin/#byte">byte</a>
<span id="Archive.Files"></span>    Files   []<a href="#File">File</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="Parse">func <a href="/src/golang.org/x/tools/txtar/archive.go?s=2404:2436#L68">Parse</a>
					<a class="permalink" href="#Parse">&#xb6;</a>
					
					
				</h3>
				<pre>func Parse(data []<a href="/pkg/builtin/#byte">byte</a>) *<a href="#Archive">Archive</a></pre>
				<p>Parse parses the serialized form of an Archive.
The returned Archive holds slices of data.

				
				
			
				
				<h3 id="ParseFile">func <a href="/src/golang.org/x/tools/txtar/archive.go?s=2161:2206#L58">ParseFile</a>
					<a class="permalink" href="#ParseFile">&#xb6;</a>
					
					
				</h3>
				<pre>func ParseFile(file <a href="/pkg/builtin/#string">string</a>) (*<a href="#Archive">Archive</a>, <a href="/pkg/builtin/#error">error</a>)</pre>
				<p>ParseFile parses the named file as an archive.

				
				
			

			
		
			
			
			<h2 id="File">type <a href="/src/golang.org/x/tools/txtar/archive.go?s=1575:1677#L38">File</a>
				<a class="permalink" href="#File">&#xb6;</a>
				
				
			</h2>
			<p>A File is a single file in an archive.

			<pre>type File struct {
<span id="File.Name"></span>    Name <a href="/pkg/builtin/#string">string</a> <span class="comment">// name of file (&#34;foo/bar.txt&#34;)</span>
<span id="File.Data"></span>    Data []<a href="/pkg/builtin/#byte">byte</a> <span class="comment">// text content of file</span>
}
</pre>

			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.23.0.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
